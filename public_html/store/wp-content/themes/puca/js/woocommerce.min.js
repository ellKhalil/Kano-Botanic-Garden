"use strict";class MiniCart{miniCartTop(){$("#tbay-top-cart").hide(),$(".mini-cart.top, #tbay-top-cart .offcanvas-close").on("click",function(){$("#tbay-top-cart").slideToggle(500)})}miniCartBottom(){$(".mini-cart.bottom").on("click",function(){$(".tbay-bottom-cart").toggleClass("active")}),$(".tbay-bottom-cart .offcanvas-close").on("click",function(){$(".tbay-bottom-cart").removeClass("active")})}miniCartAll(){jQuery(".dropdown-toggle").dropdown();var a=$(window),b=$(".tbay-dropdown-cart .dropdown-content,.tbay-bottom-cart .content,.topbar-mobile .btn,#tbay-mobile-menu, .active-mobile button,#tbay-offcanvas-main,.topbar-mobile .btn-toggle-canvas,#tbay-offcanvas-main .btn-toggle-canvas");a.on("click.Bst,click touchstart tap",function(a){0!=b.has(a.target).length||b.is(a.target)||($("#wrapper-container").removeClass("active active-cart"),$("#wrapper-container").removeClass("offcanvas-right"),$("#wrapper-container").removeClass("offcanvas-left"),$(".tbay-dropdown-cart").removeClass("active"),$("#tbay-offcanvas-main,.tbay-offcanvas").removeClass("active"),$("#tbay-dropdown-cart").hide(500),$(".tbay-bottom-cart").removeClass("active"))}),$("#tbay-offcanvas-main .btn-toggle-canvas").on("click",function(){$("#tbay-offcanvas-main").removeClass("active")}),$(".mini-cart.v2").on("click",function(a){$("#wrapper-container").toggleClass("active-cart"),$("#wrapper-container").toggleClass(a.currentTarget.dataset.offcanvas),$(".tbay-dropdown-cart").toggleClass("active")}),$(".tbay-dropdown-cart.v2 .offcanvas-close").on("click",function(){$("#wrapper-container").removeClass("active"),$("#wrapper-container").removeClass("offcanvas-right"),$("#wrapper-container").removeClass("offcanvas-left"),$(".tbay-dropdown-cart").removeClass("active")})}}const ADDING_TO_CART_EVENT="adding_to_cart",ADDED_TO_CART_EVENT="added_to_cart",LOADMORE_AJAX_HOME_PAGE="puca_more_post_ajax",LOADMORE_AJAX_SHOP_PAGE="puca_pagination_more_post_ajax",LIST_POST_AJAX_SHOP_PAGE="puca_list_post_ajax",GRID_POST_AJAX_SHOP_PAGE="puca_grid_post_ajax";class AjaxCart{constructor(){if("undefined"!=typeof puca_settings){var a=this;switch(this.ajaxCartPosition=puca_settings.cart_position,this.ajaxCartPosition){case"popup":this._initAjaxPopupOrTopCart("popup");break;case"top":this._initAjaxPopupOrTopCart("top");break;case"bottom":this._initAjaxCartBottom(),this._initAjaxSingleCart();break;case"left":this._initAjaxCartLeftOrRight("left"),this._initAjaxSingleCart();break;case"right":this._initAjaxCartLeftOrRight("right"),this._initAjaxSingleCart();}MiniCart.prototype.miniCartAll(),this._initEventRemoveProduct(),a._initEventMiniCartAjaxQuantity()}}_initAjaxPopupOrTopCart(a){var b=null,c=null;jQuery(`.ajax_cart_${a}`).on(ADDING_TO_CART_EVENT,(a,d,e)=>{b=e;"undefined"==b.product_id||(c=b.product_id)}),jQuery(`.ajax_cart_${a}`).on(ADDED_TO_CART_EVENT,function(){if(b&&null!=b){$("#tbay-cart-modal").modal();var a=puca_settings.ajaxurl+"?action=puca_add_to_cart_product&product_id="+c;$.get(a,function(a){$("#tbay-cart-modal .modal-body .modal-body-content").html(a)}),$("#tbay-cart-modal").on("hidden.bs.modal",function(){$(this).find(".modal-body .modal-body-content").empty()})}}),"top"==a&&MiniCart.prototype.miniCartTop()}_initAjaxSingleCart(){puca_settings.enable_ajax_add_to_cart&&puca_settings.ajax_single_add_to_cart&&$(document).on("click",".single_add_to_cart_button",function(a){if(0<$(this).closest("form.cart").find("input[name=\"puca_buy_now\"]").length&&"1"===$(this).closest("form.cart").find("input[name=\"puca_buy_now\"]").val())return;let b=$(this),c=b.closest("form.cart");if(!(c.hasClass("grouped_form")||0==c.find("input[name=quantity]").length||0<b.parents("#yith-quick-view-content").length)){var d=b.val(),e=c.find("input[name=quantity]").val()||1,f=c.find("input[name=product_id]").val()||d,g=$(this).closest(".variations_form"),h=0,i={};if(f&&!b.is(".disabled")){if(0<g.length){h=g.find("input[name=variation_id]").val(),f=g.find("input[name=product_id]").val();var f=g.find("input[name=product_id]").val();g.find("input[name=quantity]").val();var j=!0;let a=g.find("select[name^=attribute]");if(a.length||(a=g.find("[name^=attribute]:checked")),a.length||(a=g.find("input[name^=attribute]")),a.each(function(){var a,b,c=$(this),d=c.attr("name"),e=c.val();c.removeClass("error"),0===e.length?(a=d.lastIndexOf("_"),b=d.substring(a+1),c.addClass("required error").before("<div class=\"ajaxerrors\"><p>Please select "+b+"</p></div>"),j=!1):i[d]=e}),!j)return!1}a.preventDefault();var k={action:"woocommerce_ajax_add_to_cart",product_id:f,product_sku:"",quantity:e,variation_id:h,variation:i};return $(document.body).trigger("adding_to_cart",[b,k]),$.ajax({type:"post",url:wc_add_to_cart_params.ajax_url,data:k,beforeSend:function(){b.removeClass("added").addClass("loading")},complete:function(){b.addClass("added").removeClass("loading")},success:function(a){return($.each(a.fragments,function(a,b){$(a).replaceWith(b)}),a.error&a.product_url)?void(window.location=a.product_url):void($(document.body).trigger("added_to_cart",[a.fragments,a.cart_hash,b]),$(".woocommerce-notices-wrapper").empty().append(a.notices),$(".tbay-dropdown-cart").addClass("active"))}}),!1}}})}_initAjaxCartBottom(){jQuery(".ajax_cart_bottom").on(ADDED_TO_CART_EVENT,function(){$(".tbay-bottom-cart").addClass("active")}),MiniCart.prototype.miniCartBottom()}_initAjaxCartLeftOrRight(a){jQuery(`.ajax_cart_${a}`).on(ADDED_TO_CART_EVENT,function(){$(".tbay-dropdown-cart").addClass("active")})}_initEventRemoveProduct(){puca_settings.enable_ajax_add_to_cart&&$(document).on("click",".mini_cart_content a.remove",a=>{this._onclickRemoveProduct(a)})}_onclickRemoveProduct(a){a.preventDefault();var b=$(a.currentTarget).attr("data-product_id"),c=$(a.currentTarget).attr("data-cart_item_key"),d=jQuery(a.currentTarget).parents(".mini_cart_item"),e=$(a.currentTarget).closest(".widget_shopping_cart_content");d.block({message:null,overlayCSS:{cursor:"none"}}),this._callRemoveProductAjax(b,c,e,a)}_callRemoveProductAjax(a,b,c,d){$.ajax({type:"POST",dataType:"json",url:wc_add_to_cart_params.ajax_url,data:{action:"product_remove",product_id:a,cart_item_key:b},beforeSend:function(){c.find(".mini_cart_content").append("<div class=\"ajax-loader-wapper\"><div class=\"ajax-loader\"></div></div>").fadeTo("slow",.3),d.stopPropagation()},success:b=>{this._onRemoveSuccess(b,a)}})}_onRemoveSuccess(a,b){if(a&&!a.error){var c=a.fragments;c&&$.each(c,function(a,b){$(a).replaceWith(b)}),$(".add_to_cart_button.added[data-product_id=\""+b+"\"]").removeClass("added").next(".wc-forward").remove()}}_initEventMiniCartAjaxQuantity(){$("body").on("change",".mini_cart_content .qty",function(a){a.preventDefault();var b=puca_settings.wc_ajax_url.toString().replace("%%endpoint%%","puca_quantity_mini_cart"),c=$(this),d=$(c).parents(".mini_cart_content"),e=$(c).attr("name").replace(/cart\[([\w]+)\]\[qty\]/g,"$1"),f=parseFloat($(c).attr("max"));f||(f=!1);var g=parseFloat($(c).val());0<f&&g>f&&($(c).val(f),g=f),$.ajax({url:b,type:"POST",dataType:"json",cache:!1,data:{hash:e,quantity:g},beforeSend:function(){d.append("<div class=\"ajax-loader-wapper\"><div class=\"ajax-loader\"></div></div>").fadeTo("slow",.3),a.stopPropagation()},success:function(a){a&&a.fragments&&($.each(a.fragments,function(a,b){$(a).length&&$(a).replaceWith(b)}),"undefined"!=typeof $supports_html5_storage&&$supports_html5_storage&&(sessionStorage.setItem(wc_cart_fragments_params.fragment_name,JSON.stringify(a.fragments)),set_cart_hash(a.cart_hash),a.cart_hash&&set_cart_creation_timestamp()),$(document.body).trigger("wc_fragments_refreshed"))}})})}}class WishList{constructor(){this._onChangeWishListItem()}_onChangeWishListItem(){jQuery(document).on("added_to_wishlist removed_from_wishlist",()=>{var a=jQuery(".count_wishlist");0===a.length||$.ajax({url:yith_wcwl_l10n.ajax_url,data:{action:"yith_wcwl_update_wishlist_count"},dataType:"json",success:function(b){a.html(b.count)},beforeSend:function(){a.block()},complete:function(){a.unblock()}})})}}class ProductItem{_initOnChangeQuantity(a){var b=this;jQuery(document).off("click",".plus, .minus").on("click",".plus, .minus",function(c){c.preventDefault();var d=jQuery(this).closest(".quantity").find(".qty"),e=parseFloat(d.val()),f=d.attr("max"),g=d.attr("min"),h=d.attr("step"),i=b.numberAfterDecimal(h);e=e&&""!==e&&"NaN"!==e?e:0,f=""===f||"NaN"===f?"":f,g=""===g||"NaN"===g?0:g,h="any"===h||""===h||h===void 0||parseFloat(h)===NaN?1:h,$(this).is(".plus")?f&&(f==e||e>f)?d.val(f):d.val((e+parseFloat(h)).toFixed(i)):g&&(g==e||e<g)?d.val(g):0<e&&d.val((e-parseFloat(h)).toFixed(i)),a&&"function"==typeof a&&($(this).parent().find("input").trigger("change"),a(),0<$(c.target).parents(".mini_cart_content").length&&c.stopPropagation())})}numberAfterDecimal(a){let b=0;if(1<a.toString().split(".").length)b=a.toString().split(".")[1].length;else return b;return 0>b?b:b}_initQuantityMode(){"undefined"!=typeof puca_settings&&puca_settings.quantity_mode&&($(".woocommerce .products").on("click",".quantity .qty",function(){return!1}),$(document).on("change",".quantity .qty",function(){var a=$(this).parents(".product-block").find(".add_to_cart_button");a.attr("data-quantity",$(this).val())}),$(document).on("keypress",".quantity .qty",function(a){13===(a.which||a.keyCode)&&$(this).parents(".product-block").find(".add_to_cart_button").trigger("click")}))}_initSwatches(){jQuery("body").on("click",".tbay-swatches-wrapper li a",function(){let a=!1,b=$(this).closest(".product-block");var c=b.find(".product-image img:eq(0)");$(this).closest("ul").hasClass("active")||($(this).closest("ul").addClass("active"),c.attr("data-old",c.attr("src"))),$(this).hasClass("selected")?(c.attr("src",c.data("old")),$(this).removeClass("selected"),b.removeClass("product-swatched")):($(this).closest("ul").find("li a").each(function(){$(this).hasClass("selected")&&$(this).removeClass("selected")}),$(this).addClass("selected"),b.addClass("product-swatched"),a=!0);a&&("undefined"!=typeof $(this).data("imageSrc")&&c.attr("src",$(this).data("imageSrc")),"undefined"!=typeof $(this).data("imageSrcset")&&c.attr("srcset",$(this).data("imageSrcset")),"undefined"!=typeof $(this).data("imageSizes")&&c.attr("sizes",$(this).data("imageSizes")))})}}class Cart{constructor(){if("undefined"==typeof puca_settings)return;let a=this;a._initEventChangeQuantity(),jQuery(document.body).on("updated_wc_div",()=>{a._initEventChangeQuantity(),jQuery(document.body).trigger("puca_load_more"),"undefined"!=typeof woocs_refresh_mini_cart&&woocs_refresh_mini_cart(200),"undefined"!=typeof wc_add_to_cart_variation_params&&jQuery(".variations_form").each(function(){jQuery(this).wc_variation_form()})}),jQuery(document.body).on("cart_page_refreshed",()=>{a._initEventChangeQuantity()})}_initEventChangeQuantity(){const a=jQuery("body.woocommerce-cart [name='update_cart']"),b=new ProductItem;0===a.length?b._initOnChangeQuantity(()=>{}):b._initOnChangeQuantity(()=>{a.prop("disabled",!1),"undefined"!=typeof puca_settings&&puca_settings.ajax_update_quantity&&jQuery("[name='update_cart']").trigger("click")})}}class Checkout{constructor(){this._toogleWoocommerceIcon()}_toogleWoocommerceIcon(){1>$(".woocommerce-info a").length||$(".woocommerce-info a").on("click",function(){$(this).find(".icons").toggleClass("icon-arrow-down").toggleClass("icon-arrow-up")})}}class SideBar{constructor(){this._layoutShopCanvasSidebar(),this._layoutShopFullWidth(),this._layoutSidebarMobile()}_layoutShopCanvasSidebar(){$(".button-canvas-sidebar, .product-canvas-sidebar .product-canvas-close").on("click",function(){$(".product-canvas-sidebar").toggleClass("active"),$("body").toggleClass("product-canvas-active")});var a=$(window),b=$(".product-canvas-sidebar .content,.button-canvas-sidebar");a.on("click.Bst",a=>{a.target,0!=b.has(a.target).length||b.is(a.target)||($(".product-canvas-sidebar").removeClass("active"),$("body").removeClass("product-canvas-active"))})}_layoutSidebarMobile(){$(document).on("click",".puca-sidebar-mobile-btn",function(){$("body").toggleClass("show-sidebar")}),$(document).on("click",".close-side-widget, .puca-close-side",function(){$("body").removeClass("show-sidebar")})}_layoutShopFullWidth(){$(".button-product-top").on("click",function(){$(".product-top-sidebar").toggleClass("active"),$(".product-top-sidebar > .container .content").slideToggle(500,function(){})})}}class LoadMore{constructor(){"undefined"==typeof puca_settings||(this._initLoadMoreOnHomePage(),this._initLoadMoreOnShopPage(),this._int_berocket_lmp_end())}_initLoadMoreOnHomePage(){var a=this;$(".more_products").each(function(){var b=$(this).data("id");$(`#more_products_${b} a[data-loadmore="true"]`).on("click",function(){var c=$(this);return a._callAjaxLoadMore({data:{action:LOADMORE_AJAX_HOME_PAGE,paged:$(this).data("paged")+1,number:$(this).data("number"),columns:$(this).data("columns"),layout:$(this).data("layout"),type:$(this).data("type"),category:$(this).data("category"),screen_desktop:$(this).data("desktop"),screen_desktopsmall:$(this).data("desktopsmall"),screen_tablet:$(this).data("tablet"),screen_mobile:$(this).data("mobile")},event:c,id:b,thisItem:$(this).parent().parent()}),!1})})}_initLoadMoreOnShopPage(){$(".tbay-pagination-load-more").each(function(){$(".tbay-pagination-load-more a[data-loadmore=\"true\"]").on("click",function(){var a=$(this),b={action:LOADMORE_AJAX_SHOP_PAGE,query:puca_settings.posts,page:puca_settings.current_page};return $.ajax({url:woocommerce_params.ajax_url,data:b,type:"POST",beforeSend:function(){a.addClass("active")},success:function(b){b?(a.closest("#content").find(".products > .row").append(b),puca_settings.current_page++,$(".woocommerce-product-gallery").each(function(){jQuery(this).wc_product_gallery()}),$(document.body).trigger("puca_load_more"),"undefined"!=typeof tawcvs_variation_swatches_form&&($(".variations_form").tawcvs_variation_swatches_form(),$(document.body).trigger("tawcvs_initialized")),"undefined"!=typeof wc_add_to_cart_variation_params&&$(".variations_form").each(function(){$(this).wc_variation_form().find(".variations select:eq(0)").trigger("change"),$(this).wc_variation_form()}),a.removeClass("active"),puca_settings.current_page==puca_settings.max_page&&a.remove()):a.remove()}}),!1})})}_callAjaxLoadMore(a){var b=this,c=a.data,d=a.event;$.ajax({type:"POST",dataType:"JSON",url:woocommerce_params.ajax_url,data:c,beforeSend:function(){d.addClass("active")},success:function(c){b._onAjaxSuccess(c,a)}})}_onAjaxSuccess(a,b){var c=b.data,d=b.event;!1==a.check&&d.remove(),d.data("paged",c.paged),d.data("number",c.number+c.columns*(b.data.action===LOADMORE_AJAX_HOME_PAGE?3:2));var e=b.data.action===LOADMORE_AJAX_HOME_PAGE?$(`.widget_products_${b.id} .products>.row`):$(".archive-shop .products >.row");e.append(a.posts),$(".woocommerce-product-gallery").each(function(){jQuery(this).wc_product_gallery()}),$(document.body).trigger("puca_load_more"),"undefined"!=typeof wc_add_to_cart_variation_params&&$(".variations_form").each(function(){$(this).wc_variation_form()}),"undefined"!=typeof tawcvs_variation_swatches_form&&($(".variations_form").tawcvs_variation_swatches_form(),$(document.body).trigger("tawcvs_initialized")),d.find(".loadding").remove(),d.removeClass("active"),d.button("reset"),b.thisItem.removeAttr("style")}_int_berocket_lmp_end(){$(document).on("berocket_lmp_end",()=>{$(".woocommerce-product-gallery").each(function(){jQuery(this).wc_product_gallery()}),$(document.body).trigger("puca_load_more"),"undefined"!=typeof tawcvs_variation_swatches_form&&($(".variations_form").tawcvs_variation_swatches_form(),$(document.body).trigger("tawcvs_initialized")),"undefined"!=typeof wc_add_to_cart_variation_params&&$(".variations_form").each(function(){$(this).wc_variation_form().find(".variations select:eq(0)").trigger("change")})})}}class ModalVideo{constructor(a,b={classBtn:".tbay-modalButton",defaultW:640,defaultH:360}){this.$el=a,this.options=b,this._initVideoIframe()}_initVideoIframe(){$(`${this.options.classBtn}[data-target='${this.$el}']`).on("click",this._onClickModalBtn),$(this.$el).on("hidden.bs.modal",()=>{$(this.$el).find("iframe").html("").attr("src","")})}_onClickModalBtn(a){let b=$(a.currentTarget).data("target");var c=$(a.currentTarget).attr("data-tbayVideoFullscreen")||!1,d={src:$(a.currentTarget).attr("data-tbaySrc"),height:$(a.currentTarget).attr("data-tbayHeight")||this.options.defaultH,width:$(a.currentTarget).attr("data-tbayWidth")||this.options.defaultW};c&&(d.allowfullscreen=""),$(b).find("iframe").attr(d)}}class WooCommon{constructor(){this._pucaFixRemove(),this._pucaVideoModal()}_pucaFixRemove(){$(".tbay-gallery-varible .woocommerce-product-gallery__trigger").remove()}_pucaVideoModal(){$(".tbay-video-modal").each((a,b)=>{new ModalVideo(`#video-modal-${$(b).attr("data-id")}`)})}}class QuickView{constructor(){$(document).on("qv_loader_stop",()=>{new ProductItem()._initOnChangeQuantity()})}}class singleProduct{constructor(){var a=this;a._initOnClickReview(),a._initBuyNow(),a._intReviewPopup(),a._intSliderGallery(),a._initChangeImageVarible(),a._initOpenAttributeMobile(),a._initCloseAttributeMobile(),a._initCloseAttributeMobileWrapper(),a._initAddToCartClickMobile(),a._initBuyNowwClickMobile(),a._initAskAQuestionName()}_initOnClickReview(){$("body").on("click","a.woocommerce-review-link",function(){$("#reviews").closest(".panel").find(".tabs-title a").hasClass("collapsed")&&$("#reviews").closest(".panel").find(".tabs-title a.collapsed").on("click")})}_initBuyNow(){$("body").on("click",".tbay-buy-now",function(a){a.preventDefault();let b=$(this).closest("form.cart"),c=b.find("[type=\"submit\"]"),d=b.find("input[name=\"puca_buy_now\"]"),e=c.is(".disabled");e?c.trigger("click"):(d.val("1"),b.find(".single_add_to_cart_button").click())}),$(document.body).on("check_variations",function(){let a=$("form.variations_form").find(".single_add_to_cart_button");a.each(function(){let a=$(this).is(".disabled");a?$(this).parent().find(".tbay-buy-now").addClass("disabled"):$(this).parent().find(".tbay-buy-now").removeClass("disabled")})})}_initChangeImageVarible(){let a=$(".information form.variations_form");0===a.length||(a.on("change",function(){var b=$(this),c=[];b.find(".variations tr").each(function(){"undefined"!=typeof $(this).find("select").val()&&c.push($(this).find("select option:selected").text())}),b.parent().find(".mobile-attribute-list .value").empty().append(c.join("/ ")),a.find(".single_variation_wrap .single_variation").is(":empty")?a.find(".mobile-infor-wrapper .infor-body").empty().append(a.parent().children(".price").html()):a.find(".single_variation_wrap .single_variation .woocommerce-variation-price").is(":empty")?(a.find(".mobile-infor-wrapper .infor-body").empty().append(a.find(".single_variation_wrap .single_variation").html()),a.find(".mobile-infor-wrapper .infor-body .woocommerce-variation-price").empty().append(a.parent().children(".price").html()).wrapInner("<p class=\"price\"></p>")):a.find(".mobile-infor-wrapper .infor-body").empty().append(a.find(".single_variation_wrap .single_variation").html())}),setTimeout(function(){jQuery(document.body).on("reset_data",()=>(a.find(".mobile-infor-wrapper .infor-body .woocommerce-variation-availability").empty(),void a.find(".mobile-infor-wrapper .infor-body").empty().append(a.parent().children(".price").html()).wrapInner("<p class=\"price\"></p>"))),jQuery(document.body).on("woocommerce_gallery_init_zoom",()=>{let a=$(".flex-control-thumbs").find(".flex-active").attr("src");$(".mobile-infor-wrapper img").attr("src",a)}),jQuery(document.body).on("mobile_attribute_open",()=>{a.find(".single_variation_wrap .single_variation").is(":empty")?a.find(".mobile-infor-wrapper .infor-body").empty().append(a.parent().children(".price").html()):a.find(".single_variation_wrap .single_variation .woocommerce-variation-price").is(":empty")?(a.find(".mobile-infor-wrapper .infor-body").empty().append(a.find(".single_variation_wrap .single_variation").html()),a.find(".mobile-infor-wrapper .infor-body .woocommerce-variation-price").empty().append(a.parent().children(".price").html()).wrapInner("<p class=\"price\"></p>")):a.find(".mobile-infor-wrapper .infor-body").empty().append(a.find(".single_variation_wrap .single_variation").html())})},1e3))}_intReviewPopup(){if(0!==$("#list-review-images").length){var a=[];$("#list-review-images").find(".review-item").each(function(){var b=$(this).find("a"),c={src:b.attr("href"),w:b.data("width"),h:b.data("height"),title:b.data("caption")};a.push(c)}),$("#list-review-images .review-gallery").off("click").on("click",function(b){b.preventDefault();var c=$(".pswp")[0],d={index:$(this).parents(".review-item").index(),showHideOpacity:!0,closeOnVerticalDrag:!1,mainClass:"pswp-review-images"},e=new PhotoSwipe(c,PhotoSwipeUI_Default,a,d);e.init(),b.stopPropagation()})}}_intSliderGallery(){if(0!==$("#product-sliders-gallery").length){var a=[];$("#product-sliders-gallery").find(".slider-gallery").each(function(){var b={src:$(this).attr("href"),w:$(this).data("width"),h:$(this).data("height"),title:$(this).data("caption")};a.push(b)}),$("#product-sliders-gallery .slider-gallery").off("click").on("click",function(b){b.preventDefault();var c=$(".pswp")[0],d={index:$(this).parents(".product-gallery-item").index(),showHideOpacity:!0,closeOnVerticalDrag:!1,mainClass:"pswp-gallery-images"},e=new PhotoSwipe(c,PhotoSwipeUI_Default,a,d);e.init()})}}_initOpenAttributeMobile(){let a=$("#attribute-open");0===a.length||a.on("click",function(){$(this).parent().parent().find("form.cart").addClass("open open-btn-all"),$(this).parents("#tbay-main-content").addClass("open-main-content")})}_initAddToCartClickMobile(){let a=$("#tbay-click-addtocart");0===a.length||a.on("click",function(){$(this).parent().parent().find("form.cart").addClass("open open-btn-addtocart"),$(this).parents("#tbay-main-content").addClass("open-main-content")})}_initBuyNowwClickMobile(){let a=$("#tbay-click-buy-now");0===a.length||a.on("click",function(){$(this).parent().parent().find("form.cart").addClass("open open-btn-buynow"),$(this).parents("#tbay-main-content").addClass("open-main-content")})}_initCloseAttributeMobile(){let a=$("#mobile-close-infor");0===a.length||a.on("click",function(){$(this).parents("form.cart").removeClass("open"),$(this).parents("form.cart").hasClass("open-btn-all")&&($(this).parents("form.cart").removeClass("open-btn-all"),$(this).parents("#tbay-main-content").removeClass("open-main-content")),$(this).parents("form.cart").hasClass("open-btn-buynow")&&($(this).parents("form.cart").removeClass("open-btn-buynow"),$(this).parents("#tbay-main-content").removeClass("open-main-content")),$(this).parents("form.cart").hasClass("open-btn-addtocart")&&($(this).parents("form.cart").removeClass("open-btn-addtocart"),$(this).parents("#tbay-main-content").removeClass("open-main-content"))})}_initCloseAttributeMobileWrapper(){let a=$("#mobile-close-infor-wrapper");0===a.length||a.on("click",function(){$(this).parent().find("form.cart").removeClass("open"),$(this).parent().find("form.cart").hasClass("open-btn-all")&&($(this).parent().find("form.cart").removeClass("open-btn-all"),$(this).parents("#tbay-main-content").removeClass("open-main-content")),$(this).parent().find("form.cart").hasClass("open-btn-buynow")&&($(this).parent().find("form.cart").removeClass("open-btn-buynow"),$(this).parents("#tbay-main-content").removeClass("open-main-content")),$(this).parent().find("form.cart").hasClass("open-btn-addtocart")&&($(this).parent().find("form.cart").removeClass("open-btn-addtocart"),$(this).parents("#tbay-main-content").removeClass("open-main-content"))})}_initAskAQuestionName(){let a=$(".popup-aska-question");0===a.find(".product_name").length||a.find(".product_name").val(a.find(".product-info .name").text())}}class DisplayMode{constructor(){"undefined"==typeof puca_settings||(this._initModeListShopPage(),this._initModeGridShopPage(),$(document.body).on("displayMode",()=>{this._initModeListShopPage(),this._initModeGridShopPage()}),$(document).on("woof_ajax_done",()=>{this._initModeListShopPage(),this._initModeGridShopPage(),"undefined"!=typeof tawcvs_variation_swatches_form&&($(".variations_form").tawcvs_variation_swatches_form(),$(document.body).trigger("tawcvs_initialized")),"undefined"!=typeof wc_add_to_cart_variation_params&&$(".variations_form").each(function(){$(this).wc_variation_form().find(".variations select:eq(0)").trigger("change")})}))}_initModeListShopPage(){$(".display-mode button.list").each(function(){$(this).on("click",function(){if(!$(this).hasClass("active")){var a=$(this),b={action:LIST_POST_AJAX_SHOP_PAGE,query:puca_settings.posts};return $.ajax({url:puca_settings.ajaxurl,data:b,type:"POST",beforeSend:function(){a.closest("#main").find(".products").addClass("load-ajax")},success:function(b){if(b){a.parent().children().removeClass("active"),a.addClass("active"),a.closest("#main").find(".products > div").html(b);let c=a.closest("#main").find("div.products");c.addClass("products-list").removeClass("products-grid").fadeIn(300),$(".woocommerce-product-gallery").each(function(){jQuery(this).wc_product_gallery()}),$(document.body).trigger("puca_load_more"),"undefined"!=typeof tawcvs_variation_swatches_form&&($(".variations_form").tawcvs_variation_swatches_form(),$(document.body).trigger("tawcvs_initialized")),"undefined"!=typeof wc_add_to_cart_variation_params&&$(".variations_form").each(function(){$(this).wc_variation_form().find(".variations select:eq(0)").trigger("change")}),a.closest("#main").find(".products").removeClass("load-ajax"),Cookies.set("display_mode","list",{expires:.1,path:"/"})}}}),!1}})})}_initModeGridShopPage(){$(".display-mode button.grid").each(function(){$(this).on("click",function(){if(!$(this).hasClass("active")){var a=$(this),b={action:GRID_POST_AJAX_SHOP_PAGE,query:puca_settings.posts};return $.ajax({url:puca_settings.ajaxurl,data:b,type:"POST",beforeSend:function(){a.closest("#main").find(".products").addClass("load-ajax")},success:function(b){if(b){a.parent().children().removeClass("active"),a.addClass("active"),a.closest("#main").find(".products > div").html(b);let c=a.closest("#main").find("div.products");c.addClass("products-grid").removeClass("products-list").fadeIn(300),$(".woocommerce-product-gallery").each(function(){jQuery(this).wc_product_gallery()}),$(document.body).trigger("puca_load_more"),"undefined"!=typeof tawcvs_variation_swatches_form&&($(".variations_form").tawcvs_variation_swatches_form(),$(document.body).trigger("tawcvs_initialized")),"undefined"!=typeof wc_add_to_cart_variation_params&&$(".variations_form").each(function(){$(this).wc_variation_form().find(".variations select:eq(0)").trigger("change")}),c.removeClass("load-ajax"),Cookies.set("display_mode","grid",{expires:.1,path:"/"})}}}),!1}})})}_getDisplayMode(){if("list"==puca_settings.display_mode?Cookies.set("display_mode","list",{expires:.1,path:"/"}):"grid"==puca_settings.display_mode&&Cookies.set("display_mode","grid",{expires:.1,path:"/"}),null!=Cookies.get("display_mode")&&""!==Cookies.get("display_mode")){if("grid"==Cookies.get("display_mode")){let a=$(".display-mode").find("button.grid");a.parent().children().removeClass("active"),a.addClass("active"),$(".tbay-filter").parents("#main").find(".products").addClass("products-"+Cookies.get("display_mode"))}if("list"==Cookies.get("display_mode")){let a=$(".display-mode").find("button.list");a.parent().children().removeClass("active"),a.addClass("active"),$(".tbay-filter").parents("#main").find(".products").addClass("products-"+Cookies.get("display_mode"))}}}}class ProductTabs{constructor(){"undefined"==typeof puca_settings||this._initProductTabs()}_initProductTabs(){var a=!1;$(".tbay-product-tabs-ajax.ajax-active").each(function(){var b=$(this);b.find(".product-tabs-title li a").off("click").on("click",function(b){b.preventDefault();var c=$(this),d=c.parent().parent().data("atts"),e=c.data("value"),f=c.attr("href");a||$(f).hasClass("active-content")||(a=!0,$.ajax({url:puca_settings.ajaxurl,data:{atts:d,value:e,action:"puca_get_products_tab_shortcode"},dataType:"json",method:"POST",beforeSend:function(){$(f).parent().addClass("load-ajax")},success:function(a){$(f).find(".grid-wrapper").prepend(a.html),$(f).parent().find(".current").removeClass("current"),$(f).parent().removeClass("load-ajax"),$(f).addClass("active-content"),$(f).addClass("current"),$(document.body).trigger("tbay_carousel_slick"),$(document.body).trigger("tbay_ajax_tabs_products")},error:function(){console.log("ajax error")},complete:function(){a=!1}}))})})}}class ProductCategoriesTabs{constructor(){"undefined"==typeof puca_settings||this._initProductCategoriesTabs()}_initProductCategoriesTabs(){var a=!1;$(".tbay-product-categories-tabs-ajax.ajax-active").each(function(){var b=$(this);b.find(".product-categories-tabs-title li a").off("click").on("click",function(b){b.preventDefault();var c=$(this),d=c.parent().parent().data("atts"),e=c.data("value"),f=c.attr("href"),g="undefined"==typeof c.data("type")?"":c.data("type");a||$(f).hasClass("active-content")||(a=!0,$.ajax({url:puca_settings.ajaxurl,data:{atts:d,value:e,type:g,action:"puca_get_products_categories_tab_shortcode"},dataType:"json",method:"POST",beforeSend:function(){$(f).parent().addClass("load-ajax")},success:function(a){0<$(f).find(".tab-ajax-content").length?$(f).find(".tab-ajax-content").prepend(a.html):0<$(f).find(".tab-banner").length?$(f).append(a.html):$(f).prepend(a.html),$(f).parent().find(".current").removeClass("current"),$(f).parent().removeClass("load-ajax"),$(f).addClass("active-content"),$(f).addClass("current"),$(document.body).trigger("tbay_carousel_slick"),$(document.body).trigger("tbay_ajax_tabs_products")},error:function(){console.log("ajax error")},complete:function(){a=!1}}))})})}}jQuery(document).ready(()=>{var a=new ProductItem;a._initSwatches(),a._initQuantityMode(),jQuery(document.body).trigger("tawcvs_initialized"),new AjaxCart,new singleProduct,new SideBar,new WishList,new Cart,new Checkout,new WooCommon,new LoadMore,new ModalVideo("#productvideo"),new QuickView,new DisplayMode,new ProductTabs,new ProductCategoriesTabs}),jQuery(document).on("woof_ajax_done",()=>{let a=new DisplayMode;a._initModeListShopPage(),a._initModeGridShopPage(),"undefined"!=typeof tawcvs_variation_swatches_form&&(jQuery(".variations_form").tawcvs_variation_swatches_form(),jQuery(document.body).trigger("tawcvs_initialized")),"undefined"!=typeof wc_add_to_cart_variation_params&&jQuery(".variations_form").each(function(){jQuery(this).wc_variation_form().find(".variations select:eq(0)").trigger("change")})});var AjaxProductTabs=function(){new ProductTabs,new ProductCategoriesTabs};jQuery(window).on("elementor/frontend/init",function(){"undefined"!=typeof puca_settings&&elementorFrontend.isEditMode()&&Array.isArray(puca_settings.elements_ready.ajax_tabs)&&jQuery.each(puca_settings.elements_ready.ajax_tabs,function(a,b){elementorFrontend.hooks.addAction("frontend/element_ready/tbay-"+b+".default",AjaxProductTabs)})});
